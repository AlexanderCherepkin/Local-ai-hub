document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("modal-overlay"),t=document.getElementById("modal-content");let o=null;const l=e=>window.translations?.[e]||`[${e}]`;window.closeModal=function(){e&&(e.style.display="none"),t&&(t.innerHTML=""),o&&o.focus(),document.body.style.overflow=""},window.openModal=function(d){if(!e||!t)return;o=document.activeElement;let a="",n="",i="";"logo-gen"===d?(a=l("modal_logo_title"),n=l("modal_logo_desc"),i=`<div><input type="text" name="brand" placeholder="${l("placeholder_brand")}" required></div><div><select name="style" required><option value="">${l("select_style")}</option><option value="modern">${l("style_modern")}</option><option value="minimal">${l("style_minimal")}</option></select></div><div><textarea name="preferences" placeholder="${l("placeholder_preferences")}" rows="2"></textarea></div>`):"desc-gen"===d?(a=l("modal_desc_title"),n=l("modal_desc_desc"),i=`<div><input type="text" name="product_name" placeholder="${l("placeholder_product_name")}" required></div><div><input type="text" name="category" placeholder="${l("placeholder_category")}" required></div><div><textarea name="details" placeholder="${l("placeholder_details")}" rows="3"></textarea></div>`):"cv-gen"===d&&(a=l("modal_cv_title"),n=l("modal_cv_desc"),i=`<div><input type="text" name="fullname" placeholder="${l("placeholder_fullname")}" required></div><div><input type="text" name="position" placeholder="${l("placeholder_position")}" required></div><div><textarea name="skills" placeholder="${l("placeholder_skills")}" rows="2"></textarea></div>`),t.innerHTML=`\n            <div class="modal-window">\n                <button class="modal__close js-modal-close" aria-label="${l("aria_close")}">&times;</button>\n                <h2 id="modal-title">${a}</h2>\n                <p id="modal-desc" class="modal-desc">${n}</p>\n                <form id="modal-form" autocomplete="off" novalidate>\n                    ${i}\n                    <div class="modal-buttons">\n                        <button type="button" class="modal-btn secondary js-modal-close">${l("modal_btn_cancel")}</button>\n                        <button type="reset" class="modal-btn secondary">${l("modal_btn_clear")}</button>\n                        <button type="submit" class="modal-btn">${l("modal_btn_submit")}</button>\n                    </div>\n                </form>\n            </div>`,e.style.display="flex",document.body.style.overflow="hidden"},document.body.addEventListener("click",(t=>{const o=t.target.closest("[data-modal]");if(o)return t.preventDefault(),void openModal(o.getAttribute("data-modal"));(t.target.closest(".js-modal-close")||t.target===e)&&closeModal()})),document.addEventListener("keydown",(t=>{"Escape"===t.key&&e&&"flex"===e.style.display&&closeModal()}))}));
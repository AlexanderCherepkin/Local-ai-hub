document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){const o=this.getAttribute("href").slice(1),t=document.getElementById(o);t?(e.preventDefault(),setTimeout((()=>{const e=document.querySelector("header");let n=0;e&&(n=e.getBoundingClientRect().height);const l=t.getBoundingClientRect().top+window.pageYOffset,i=l-100;console.groupCollapsed(`DEBUG SCROLL: Clicked on #${o}`),console.log(`  1. Измеренная высота шапки (headerHeight): ${n.toFixed(2)}px`),console.log("  2. Ручная корректировка (offsetCorrection): 100px"),console.log(`  3. Позиция цели от верха ВЬЮПОРТА (targetEl.getBoundingClientRect().top): ${t.getBoundingClientRect().top.toFixed(2)}px`),console.log(`  4. Текущая прокрутка страницы (window.pageYOffset): ${window.pageYOffset.toFixed(2)}px`),console.log(`  5. Позиция цели от верха ДОКУМЕНТА (targetElementTopRelativeToDocument): ${l.toFixed(2)}px`),console.log(`  6. ИТОГОВАЯ ПОЗИЦИЯ ПРОКРУТКИ (finalScrollPosition): ${i.toFixed(2)}px`),console.groupEnd(),window.scrollTo({top:i,behavior:"smooth"})}),10)):console.warn(`❌ Целевой элемент с ID "${o}" не найден. Проверьте HTML ID и href.`)}))}));const e=document.getElementById("scrollTopBtn");if(e){window.innerWidth<768?e.style.display="none":(e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){e.classList.toggle("visible",window.scrollY>300)})))}}));